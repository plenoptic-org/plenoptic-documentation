

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>plenoptic.tools.display &mdash; plenoptic 1.3.2.dev217 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=9c3e77be" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=a2d047e6" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=4ba52da5"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=6dbb43f8"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../_static/togglebutton.js?v=1ae7504c"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            plenoptic
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basic concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jupyter.html">Using Jupyter to Run Example Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conceptual_intro.html">Conceptual Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Model requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citation.html">Citation Guide and Bibliography</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Synthesis method introductions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/intro/Eigendistortions.html">Eigendistortions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/intro/MAD_Competition_1.html">MAD Competition Conceptual Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/intro/MAD_Competition_2.html">MAD Competition Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/intro/Metamer.html">Metamers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Models and metrics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/models/Perceptual_distance.html">Perceptual distance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/models/Steerable_Pyramid.html">Steerable Pyramid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/models/portilla_simoncelli/ps_index.html">Portilla-Simoncelli Texture Model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Synthesis method examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/applications/Demo_Eigendistortion.html">Reproducing Berardino et al., 2017 (Eigendistortions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/applications/Original_MAD.html">Reproducing Wang and Simoncelli, 2008 (MAD Competition)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tips.html">Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reproducibility.html">Reproducibility and Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/advanced/Display.html">Display and animate functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/advanced/Synthesis_extensions.html">Extending existing synthesis objects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../synthesis.html">Synthesis object design</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">plenoptic</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">plenoptic.tools.display</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/plenoptic.tools.display.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-plenoptic.tools.display">
<span id="plenoptic-tools-display"></span><h1>plenoptic.tools.display<a class="headerlink" href="#module-plenoptic.tools.display" title="Link to this heading"></a></h1>
<p>Various helpful utilities for plotting or displaying information.</p>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#plenoptic.tools.display.animshow" title="plenoptic.tools.display.animshow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">animshow</span></code></a>(video[, framerate, repeat, vrange, ...])</p></td>
<td><p>Animate video(s), avoiding interpolation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#plenoptic.tools.display.clean_stem_plot" title="plenoptic.tools.display.clean_stem_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean_stem_plot</span></code></a>(data[, ax, title, ylim, xvals])</p></td>
<td><p>Create a simple stem plot.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#plenoptic.tools.display.clean_up_axes" title="plenoptic.tools.display.clean_up_axes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean_up_axes</span></code></a>(ax[, ylim, spines_to_remove, ...])</p></td>
<td><p>Clean up an axis, as desired when making a stem plot of the representation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#plenoptic.tools.display.imshow" title="plenoptic.tools.display.imshow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imshow</span></code></a>(image[, vrange, zoom, title, ...])</p></td>
<td><p>Show image(s), avoiding interpolation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#plenoptic.tools.display.plot_representation" title="plenoptic.tools.display.plot_representation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_representation</span></code></a>([model, data, ax, ...])</p></td>
<td><p>Plot model representation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#plenoptic.tools.display.pyrshow" title="plenoptic.tools.display.pyrshow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pyrshow</span></code></a>(pyr_coeffs[, vrange, zoom, ...])</p></td>
<td><p>Display steerable pyramid coefficients in orderly fashion.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#plenoptic.tools.display.rescale_ylim" title="plenoptic.tools.display.rescale_ylim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rescale_ylim</span></code></a>(axes, data)</p></td>
<td><p>Rescale y-limits nicely.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#plenoptic.tools.display.update_plot" title="plenoptic.tools.display.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>(axes, data[, model, batch_idx])</p></td>
<td><p>Update the information in some axes (for an animation).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#plenoptic.tools.display.update_stem" title="plenoptic.tools.display.update_stem"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_stem</span></code></a>(stem_container, ydata)</p></td>
<td><p>Update the information in a stem plot (for an animation).</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.animshow">
<span class="sig-name descname"><span class="pre">animshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">framerate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vrange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'indep1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_complex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rectangular'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_rgb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#animshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.animshow" title="Link to this definition"></a></dt>
<dd><p>Animate video(s), avoiding interpolation.</p>
<p>This function shows images carefully, avoiding interpolation: each element in the
input <code class="docutils literal notranslate"><span class="pre">image</span></code> will correspond to a pixel or an integer number of pixels. When
<code class="docutils literal notranslate"><span class="pre">zoom&lt;1</span></code>, an integer number of input elements will be averaged into a single
pixel.</p>
<p>This functions returns a matplotlib FuncAnimation object. See our
documentation (e.g., <a class="reference internal" href="../tutorials/quickstart.html#quickstart-nb"><span class="std std-ref">Quickstart</span></a>) for examples on how to view it in
a Jupyter notebook. In order to save, use <code class="docutils literal notranslate"><span class="pre">anim.save(filename)</span></code>. In either
case, this can take a while and you’ll need the appropriate writer installed
and on your path, e.g., ffmpeg, imagemagick, etc). See
<a class="reference external" href="https://matplotlib.org/stable/api/animation_api.html" title="(in Matplotlib v3.10.8)"><span class="xref std std-doc">matplotlib documentation</span></a> for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a>]</span>) – The video(s) to display. Tensors should be 5d (batch, channel, time,
height, width). List of tensors should be used for tensors of different
height and width: all videos will automatically be rescaled so they’re
displayed at the same height and width, thus, their heights and widths
must be scalar multiples of each other. Videos must all have the same
number of frames.</p></li>
<li><p><strong>framerate</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">2.0</span></code>)) – Temporal resolution of the video, in Hz (frames per second).</p></li>
<li><p><strong>repeat</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)) – Whether to loop the animation or just play it once.</p></li>
<li><p><strong>vrange</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">'indep1'</span></code>)) – <p>If a 2-tuple, specifies the image values vmin/vmax that are mapped to
the minimum and maximum value of the colormap, respectively. If a
string:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto0&quot;</span></code>: All images have same vmin/vmax, which have the same
absolute value, and come from the minimum or maximum across all
images, whichever has the larger absolute value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto1&quot;</span></code>: All images have same vmin/vmax, which are the
minimum/maximum values across all images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto2&quot;</span></code>: All images have same vmin/vmax, which are the mean (across
all images) minus/ plus 2 std dev (across all images).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto3&quot;</span></code>: All images have same vmin/vmax, chosen so as to map the 10th/90th
percentile values to the 10th/90th percentile of the display intensity range.
For example: vmin is the 10th percentile image value minus 1/8 times the
difference between the 90th and 10th percentile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep0&quot;</span></code>: Each image has an independent vmin/vmax, which have the same
absolute value, which comes from either their minimum or maximum value,
whichever has the larger absolute value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep1&quot;</span></code>: Each image has an independent vmin/vmax, which are their
minimum/maximum values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep2&quot;</span></code>: Each image has an independent vmin/vmax, which is their
mean minus/plus 2 std dev.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep3&quot;</span></code>: Each image has an independent vmin/vmax, chosen so that the
10th/90th percentile values map to the 10th/90th percentile intensities.</p></li>
</ul>
</p></li>
<li><p><strong>zoom</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Ratio of display pixels to image pixels. If greater than 1, must be an
integer. If less than 1, must be <code class="docutils literal notranslate"><span class="pre">1/d</span></code> where <code class="docutils literal notranslate"><span class="pre">d</span></code> is a a divisor of the
size of the largest image. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we try to determine the best zoom.</p></li>
<li><p><strong>title</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">''</span></code>)) – <p>Title for the plot. In addition to the specified title, we add a
subtitle giving the plotted range and dimensionality (with zoom).</p>
<ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">str</span></code>, will put the same title on every plot.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">list</span></code>, all values must be <code class="docutils literal notranslate"><span class="pre">str</span></code>, must be the same length as img,
and each title will be assigned to corresponding plot.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, no title will be printed and subtitle will be removed.</p></li>
</ul>
</p></li>
<li><p><strong>col_wrap</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Number of axes to have in each row. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, will fit all axes in a
single row.</p></li>
<li><p><strong>ax</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we make the appropriate figure. Otherwise, we shrink the axes
so that it’s the appropriate number of pixels.</p></li>
<li><p><strong>cmap</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.Colormap.html#matplotlib.colors.Colormap" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colormap</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Colormap to use when showing these images. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then behavior is
determined by <code class="docutils literal notranslate"><span class="pre">vrange</span></code>: if <code class="docutils literal notranslate"><span class="pre">vmap</span> <span class="pre">in</span> <span class="pre">[&quot;auto0&quot;,</span> <span class="pre">&quot;indep0&quot;]</span></code>, we use
<code class="docutils literal notranslate"><span class="pre">&quot;RdBu_r&quot;</span></code>, else we use <code class="docutils literal notranslate"><span class="pre">&quot;gray&quot;</span></code> (see
<a class="reference external" href="https://matplotlib.org/stable/users/explain/colors/colormaps.html#colormaps" title="(in Matplotlib v3.10.8)"><span class="xref std std-ref">matplotlib documentation</span></a>).</p></li>
<li><p><strong>plot_complex</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'rectangular'</span></code>, <code class="docutils literal notranslate"><span class="pre">'polar'</span></code>, <code class="docutils literal notranslate"><span class="pre">'logpolar'</span></code>]</span> (default: <code class="docutils literal notranslate"><span class="pre">'rectangular'</span></code>)) – <p>Specifies handling of complex values.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;rectangular&quot;</span></code>: plot real and imaginary components as separate images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;polar&quot;</span></code>: plot amplitude and phase as separate images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;logpolar&quot;</span></code>: plot log (base 2) amplitude and phase as separate images.</p></li>
</ul>
</p></li>
<li><p><strong>batch_idx</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Which element from the batch dimension to plot. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we plot all.</p></li>
<li><p><strong>channel_idx</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Which element from the channel dimension to plot. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we plot all.
Note if this is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, then <code class="docutils literal notranslate"><span class="pre">as_rgb=True</span></code> will fail, because we
restrict the channels.</p></li>
<li><p><strong>as_rgb</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)) – Whether to consider the channels as encoding RGB(A) values. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, we
attempt to plot the image in color, so your tensor must have 3 (or 4 if
you want the alpha channel) elements in the channel dimension. If <code class="docutils literal notranslate"><span class="pre">False</span></code>,
we plot each channel as a separate grayscale image.</p></li>
<li><p><strong>**kwargs</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – Passed to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.10.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.imshow</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.animation.FuncAnimation.html#matplotlib.animation.FuncAnimation" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>anim</em> – The animation object. In order to view, must convert to HTML
or save.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.14)"><strong>TypeError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">batch_idx</span></code> or <code class="docutils literal notranslate"><span class="pre">channel_idx</span></code> takes an illegal value.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">as_rgb=True</span></code> and the input <code class="docutils literal notranslate"><span class="pre">image</span></code> does not have 3 or 4 channels.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">as_rgb=False</span></code>, <code class="docutils literal notranslate"><span class="pre">image</span></code> has more than one channel and one more than
    one batch and neither <code class="docutils literal notranslate"><span class="pre">batch_idx</span></code> nor <code class="docutils literal notranslate"><span class="pre">channel_idx</span></code> is set.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.14)"><strong>Exception</strong></a> – If <code class="docutils literal notranslate"><span class="pre">plot_complex</span></code> takes an illegal value.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Unless specified, we use the ffmpeg backend, which requires that you have
ffmpeg installed and on your path (<a class="reference external" href="https://ffmpeg.org/download.html">https://ffmpeg.org/download.html</a>). To
use a different, use the matplotlib rcParams:
<code class="docutils literal notranslate"><span class="pre">matplotlib.rcParams['animation.writer']</span> <span class="pre">=</span> <span class="pre">writer</span></code>, see <a class="reference external" href="https://matplotlib.org/stable/api/animation_api.html#writer-classes">matplotlib
documentation</a>
for more details.</p></li>
<li><p>This interpolation avoidance is only guaranteed for the saved image; it should
generally hold in notebooks as well, but will fail if, e.g., you plot an image
that’s 2000 pixels wide on an monitor 1000 pixels wide; the browser handles the
rescaling in a way we can’t control.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.clean_stem_plot">
<span class="sig-name descname"><span class="pre">clean_stem_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xvals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#clean_stem_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.clean_stem_plot" title="Link to this definition"></a></dt>
<dd><p>Create a simple stem plot.</p>
<p>This plots the data, baseline, cleans up the axis, and sets the
title.</p>
<p>Helper function for <a class="reference internal" href="#plenoptic.tools.display.plot_representation" title="plenoptic.tools.display.plot_representation"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_representation</span></code></a>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">xvals=None</span></code>, stem plot will have a baseline that covers the entire range
of the data. In order to break that up visually (so there’s a line from 0 to 9,
from 10 to 19, etc) pass <code class="docutils literal notranslate"><span class="pre">xvals</span></code> separately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a></span>) – The data to plot (as a stem plot).</p></li>
<li><p><strong>ax</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – The axis to plot the data on. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we plot on the current axis
(grabbed with <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.gca.html#matplotlib.pyplot.gca" title="(in Matplotlib v3.10.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.gca</span></code></a>).</p></li>
<li><p><strong>title</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">''</span></code>)) – The title to put on the axis. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we don’t call <code class="docutils literal notranslate"><span class="pre">ax.set_title</span></code>
(useful if you want to avoid changing the title on an existing plot).</p></li>
<li><p><strong>ylim</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">False</span></code>]</span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – If a tuple, the y-limits to use for this plot. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we use
the original limits, slightly adjusted so that the minimum is 0. If
<code class="docutils literal notranslate"><span class="pre">False</span></code>, we do not change y-limits.</p></li>
<li><p><strong>xvals</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – A 2-tuple of lists, containing the start (<code class="docutils literal notranslate"><span class="pre">xvals[0]</span></code>) and stop
(<code class="docutils literal notranslate"><span class="pre">xvals[1]</span></code>) x values for plotting. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, baseline will cover
full range.</p></li>
<li><p><strong>**kwargs</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – Passed to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.stem.html#matplotlib.pyplot.stem" title="(in Matplotlib v3.10.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.stem</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>ax</em> – The axis with the plot.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>We allow for breaks in the baseline value if we want to visually
break up the plot, as we see below.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">plenoptic</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">po</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># if ylim=None, as in this example, the minimum y-valuewill get</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set to 0, so we want to make sure our values are all positive</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="mi">35</span><span class="p">:</span><span class="mi">40</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># we want to draw the baseline from 0 to 14, 20 to 34, and 40 to</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 54, everywhere that we have non-NaN values for y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xvals</span> <span class="o">=</span> <span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="p">[</span><span class="mi">14</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">54</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">po</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">clean_stem_plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">xvals</span><span class="o">=</span><span class="n">xvals</span><span class="p">)</span>
<span class="go">&lt;Axes: &gt;</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="../_downloads/86ecde8ec3491c9e6929e90e21346155/plenoptic-tools-display-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/aa1ab7f244e518af7529c9a83245d3b2/plenoptic-tools-display-1.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/27e624deecb542d60f8cdd84bc25a0db/plenoptic-tools-display-1.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="../_images/plenoptic-tools-display-1.png" class="plot-directive" src="../_images/plenoptic-tools-display-1.png" />
</figure>
<p>If we don’t care about breaking up the x-axis, you can set <code class="docutils literal notranslate"><span class="pre">xvals=None</span></code>.
In this case, this function will just clean up the plot a little bit.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">plenoptic</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">po</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># if ylim=None, as in this example, the minimum y-valuewill get</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set to 0, so we want to make sure our values are all positive</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">po</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">clean_stem_plot</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">&lt;Axes: &gt;</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="../_downloads/de451c8a5fe252dc7b508fa33bc76a5f/plenoptic-tools-display-2.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/420e317451e1236fd4e74174ada32dad/plenoptic-tools-display-2.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/1e2d7b5280c891001cb4a5408d8cedb1/plenoptic-tools-display-2.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="../_images/plenoptic-tools-display-2.png" class="plot-directive" src="../_images/plenoptic-tools-display-2.png" />
</figure>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.clean_up_axes">
<span class="sig-name descname"><span class="pre">clean_up_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spines_to_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['top',</span> <span class="pre">'right',</span> <span class="pre">'bottom']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes_to_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['x']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#clean_up_axes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.clean_up_axes" title="Link to this definition"></a></dt>
<dd><p>Clean up an axis, as desired when making a stem plot of the representation.</p>
<p>This function can:</p>
<ul class="simple">
<li><p>Remove the spines from axis (the axis lines and tick marks).</p></li>
<li><p>Set axis objects themselves invisible (includes not just spines but also tick
labels and axis label).</p></li>
<li><p>Set ylim.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a></span>) – The axis to clean up.</p></li>
<li><p><strong>ylim</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">False</span></code>]</span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – If a tuple, the y-limits to use for this plot. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we use
the original limits, slightly adjusted so that the minimum is 0. If
<code class="docutils literal notranslate"><span class="pre">False</span></code>, we do not change y-limits.</p></li>
<li><p><strong>spines_to_remove</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'top'</span></code>, <code class="docutils literal notranslate"><span class="pre">'right'</span></code>, <code class="docutils literal notranslate"><span class="pre">'bottom'</span></code>, <code class="docutils literal notranslate"><span class="pre">'left'</span></code>]]</span> (default: <code class="docutils literal notranslate"><span class="pre">['top',</span> <span class="pre">'right',</span> <span class="pre">'bottom']</span></code>)) – The spines to remove from the axis.</p></li>
<li><p><strong>axes_to_remove</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'x'</span></code>, <code class="docutils literal notranslate"><span class="pre">'y'</span></code>]]</span> (default: <code class="docutils literal notranslate"><span class="pre">['x']</span></code>)) – The axes to set as invisible.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>ax</em> – The cleaned-up axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.imshow">
<span class="sig-name descname"><span class="pre">imshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vrange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'indep1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_complex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rectangular'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_rgb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#imshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.imshow" title="Link to this definition"></a></dt>
<dd><p>Show image(s), avoiding interpolation.</p>
<p>This function shows images carefully, avoiding interpolation: each element in the
input <code class="docutils literal notranslate"><span class="pre">image</span></code> will correspond to a pixel or an integer number of pixels. When
<code class="docutils literal notranslate"><span class="pre">zoom&lt;1</span></code>, an integer number of input elements will be averaged into a single
pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a>]</span>) – The images to display. Tensors should be 4d (batch, channel, height,
width). List of tensors should be used for tensors of different height
and width: all images will automatically be rescaled so they’re
displayed at the same height and width, thus, their heights and widths
must be scalar multiples of each other.</p></li>
<li><p><strong>vrange</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">'indep1'</span></code>)) – <p>If a 2-tuple, specifies the image values vmin/vmax that are mapped to
the minimum and maximum value of the colormap, respectively. If a
string:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto0&quot;</span></code>: All images have same vmin/vmax, which have the same
absolute value, and come from the minimum or maximum across all
images, whichever has the larger absolute value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto1&quot;</span></code>: All images have same vmin/vmax, which are the
minimum/maximum values across all images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto2&quot;</span></code>: All images have same vmin/vmax, which are the mean (across
all images) minus/ plus 2 std dev (across all images).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto3&quot;</span></code>: All images have same vmin/vmax, chosen so as to map the 10th/90th
percentile values to the 10th/90th percentile of the display intensity range.
For example: vmin is the 10th percentile image value minus 1/8 times the
difference between the 90th and 10th percentile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep0&quot;</span></code>: Each image has an independent vmin/vmax, which have the same
absolute value, which comes from either their minimum or maximum value,
whichever has the larger absolute value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep1&quot;</span></code>: Each image has an independent vmin/vmax, which are their
minimum/maximum values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep2&quot;</span></code>: Each image has an independent vmin/vmax, which is their
mean minus/plus 2 std dev.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep3&quot;</span></code>: Each image has an independent vmin/vmax, chosen so that the
10th/90th percentile values map to the 10th/90th percentile intensities.</p></li>
</ul>
</p></li>
<li><p><strong>zoom</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Ratio of display pixels to image pixels. If greater than 1, must be an
integer. If less than 1, must be <code class="docutils literal notranslate"><span class="pre">1/d</span></code> where <code class="docutils literal notranslate"><span class="pre">d</span></code> is a a divisor of the
size of the largest image. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we try to determine the best zoom.</p></li>
<li><p><strong>title</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">''</span></code>)) – <p>Title for the plot. In addition to the specified title, we add a
subtitle giving the plotted range and dimensionality (with zoom).</p>
<ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">str</span></code>, will put the same title on every plot.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">list</span></code>, all values must be <code class="docutils literal notranslate"><span class="pre">str</span></code>, must be the same length as img,
and each title will be assigned to corresponding plot.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, no title will be printed and subtitle will be removed.</p></li>
</ul>
</p></li>
<li><p><strong>col_wrap</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Number of axes to have in each row. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, will fit all axes in a
single row.</p></li>
<li><p><strong>ax</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we make the appropriate figure. Otherwise, we shrink the axes
so that it’s the appropriate number of pixels.</p></li>
<li><p><strong>cmap</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.Colormap.html#matplotlib.colors.Colormap" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colormap</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Colormap to use when showing these images. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then behavior is
determined by <code class="docutils literal notranslate"><span class="pre">vrange</span></code>: if <code class="docutils literal notranslate"><span class="pre">vmap</span> <span class="pre">in</span> <span class="pre">[&quot;auto0&quot;,</span> <span class="pre">&quot;indep0&quot;]</span></code>, we use
<code class="docutils literal notranslate"><span class="pre">&quot;RdBu_r&quot;</span></code>, else we use <code class="docutils literal notranslate"><span class="pre">&quot;gray&quot;</span></code> (see
<a class="reference external" href="https://matplotlib.org/stable/users/explain/colors/colormaps.html#colormaps" title="(in Matplotlib v3.10.8)"><span class="xref std std-ref">matplotlib documentation</span></a>).</p></li>
<li><p><strong>plot_complex</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'rectangular'</span></code>, <code class="docutils literal notranslate"><span class="pre">'polar'</span></code>, <code class="docutils literal notranslate"><span class="pre">'logpolar'</span></code>]</span> (default: <code class="docutils literal notranslate"><span class="pre">'rectangular'</span></code>)) – <p>Specifies handling of complex values.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;rectangular&quot;</span></code>: plot real and imaginary components as separate images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;polar&quot;</span></code>: plot amplitude and phase as separate images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;logpolar&quot;</span></code>: plot log (base 2) amplitude and phase as separate images.</p></li>
</ul>
</p></li>
<li><p><strong>batch_idx</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Which element from the batch dimension to plot. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we plot all.</p></li>
<li><p><strong>channel_idx</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Which element from the channel dimension to plot. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, we plot all.
Note if this is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, then <code class="docutils literal notranslate"><span class="pre">as_rgb=True</span></code> will fail, because we
restrict the channels.</p></li>
<li><p><strong>as_rgb</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)) – Whether to consider the channels as encoding RGB(A) values. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, we
attempt to plot the image in color, so your tensor must have 3 (or 4 if
you want the alpha channel) elements in the channel dimension. If <code class="docutils literal notranslate"><span class="pre">False</span></code>,
we plot each channel as a separate grayscale image.</p></li>
<li><p><strong>**kwargs</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – Passed to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.10.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.imshow</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pyrtools.readthedocs.io/en/latest/api/pyrtools.tools.html#pyrtools.tools.display.PyrFigure" title="(in pyrtools)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyrFigure</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>fig</em> – Figure containing the plotted images.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.14)"><strong>TypeError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">batch_idx</span></code> or <code class="docutils literal notranslate"><span class="pre">channel_idx</span></code> takes an illegal value.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">zoom</span></code> takes an illegal value.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">as_rgb=True</span></code> and the input <code class="docutils literal notranslate"><span class="pre">image</span></code> does not have 3 or 4 channels.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">as_rgb=False</span></code>, <code class="docutils literal notranslate"><span class="pre">image</span></code> has more than one channel and one more than
    one batch and neither <code class="docutils literal notranslate"><span class="pre">batch_idx</span></code> nor <code class="docutils literal notranslate"><span class="pre">channel_idx</span></code> is set.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.14)"><strong>Exception</strong></a> – If <code class="docutils literal notranslate"><span class="pre">plot_complex</span></code> takes an illegal value.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This interpolation avoidance is only guaranteed for the saved image; it should
generally hold in notebooks as well, but will fail if, e.g., you plot an image
that’s 2000 pixels wide on an monitor 1000 pixels wide; the browser handles the
rescaling in a way we can’t control.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.plot_representation">
<span class="sig-name descname"><span class="pre">plot_representation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_rgb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#plot_representation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.plot_representation" title="Link to this definition"></a></dt>
<dd><p>Plot model representation.</p>
<p>We try to plot <code class="docutils literal notranslate"><span class="pre">data</span></code> on <code class="docutils literal notranslate"><span class="pre">ax</span></code>, using the <code class="docutils literal notranslate"><span class="pre">model.plot_representation</span></code> method,
if it has it, and otherwise use a function that makes sense based on the
shape of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<p>All of these arguments are optional, but at least some of them need
to be set:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">model</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, we fall-back to a type of plot based on the shape of
<code class="docutils literal notranslate"><span class="pre">data</span></code>. If it looks image-like, we’ll use
<a class="reference internal" href="#plenoptic.tools.display.imshow" title="plenoptic.tools.display.imshow"><code class="xref py py-func docutils literal notranslate"><span class="pre">imshow</span></code></a> and if it looks vector-like, we’ll use
<a class="reference internal" href="#plenoptic.tools.display.clean_stem_plot" title="plenoptic.tools.display.clean_stem_plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">clean_stem_plot</span></code></a>. If it’s a dictionary, we’ll
assume each key, value pair gives the title and data to plot on a separate
sub-plot.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">data</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, we can only do something if
<code class="docutils literal notranslate"><span class="pre">model.plot_representation</span></code> has some behavior when
<code class="docutils literal notranslate"><span class="pre">data=None</span></code>; this is probably to plot its own <code class="docutils literal notranslate"><span class="pre">representation</span></code>
attribute. Thus, this will raise an Exception if both <code class="docutils literal notranslate"><span class="pre">model</span></code> and
<code class="docutils literal notranslate"><span class="pre">data</span></code> are <code class="docutils literal notranslate"><span class="pre">None</span></code>, because we have no idea what to plot then.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">ax</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, we create a one-subplot figure using <code class="docutils literal notranslate"><span class="pre">figsize</span></code>.
If <code class="docutils literal notranslate"><span class="pre">ax</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, we therefore ignore <code class="docutils literal notranslate"><span class="pre">figsize</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">ylim</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, we call <a class="reference internal" href="#plenoptic.tools.display.rescale_ylim" title="plenoptic.tools.display.rescale_ylim"><code class="xref py py-func docutils literal notranslate"><span class="pre">rescale_ylim</span></code></a>,
which sets the axes’ y-limits to be <code class="docutils literal notranslate"><span class="pre">(-y_max,</span> <span class="pre">y_max)</span></code>, where
<code class="docutils literal notranslate"><span class="pre">y_max=np.abs(data).max()</span></code>. If it’s <code class="docutils literal notranslate"><span class="pre">False</span></code>, we do nothing.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.pytorch.org/docs/stable/generated/torch.nn.Module.html#torch.nn.Module" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – A differentiable model that tells us how to plot <code class="docutils literal notranslate"><span class="pre">data</span></code>. See
above for behavior if <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>data</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – The data to plot. See above for behavior if <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>ax</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – The axis to plot on. See above for behavior if <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>figsize</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – The size of the figure to create. Must be <code class="docutils literal notranslate"><span class="pre">None</span></code> if ax is not <code class="docutils literal notranslate"><span class="pre">None</span></code>. If
both figsize and ax are <code class="docutils literal notranslate"><span class="pre">None</span></code>, then we use <code class="docutils literal notranslate"><span class="pre">figsize=(5,</span> <span class="pre">5)</span></code>.</p></li>
<li><p><strong>ylim</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">False</span></code>]</span> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)) – The y-limits to use for this plot. See above for behavior if <code class="docutils literal notranslate"><span class="pre">None</span></code>.
If <code class="docutils literal notranslate"><span class="pre">False</span></code>, we do nothing. Ignored if <code class="docutils literal notranslate"><span class="pre">data</span></code> looks image-like.</p></li>
<li><p><strong>batch_idx</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)) – Which index to take from the batch dimension.</p></li>
<li><p><strong>title</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">''</span></code>)) – The title to put above this axis. If you want no title, pass
the empty string (<code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>).</p></li>
<li><p><strong>as_rgb</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)) – Whether to consider the channels as encoding RGB(A) values. It will be
ignored if the representation doesn’t look image-like or if the
model has its own plot_representation_error() method. Else, it will
be passed to <a class="reference internal" href="#plenoptic.tools.display.imshow" title="plenoptic.tools.display.imshow"><code class="xref py py-func docutils literal notranslate"><span class="pre">imshow</span></code></a>, see that method’s
docstring for details.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>axes</em> – List of created axes.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If both <code class="docutils literal notranslate"><span class="pre">figsize</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code> are not <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">data</span></code> (or its values, if it’s a <code class="docutils literal notranslate"><span class="pre">dict</span></code>) are not 3 or 4 dimensional.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.pyrshow">
<span class="sig-name descname"><span class="pre">pyrshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pyr_coeffs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vrange</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'indep1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_residuals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_complex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rectangular'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#pyrshow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.pyrshow" title="Link to this definition"></a></dt>
<dd><p>Display steerable pyramid coefficients in orderly fashion.</p>
<p>This function uses <a class="reference internal" href="#plenoptic.tools.display.imshow" title="plenoptic.tools.display.imshow"><code class="xref py py-func docutils literal notranslate"><span class="pre">imshow</span></code></a> to show the coefficients
of the steeable pyramid (or any dictionary in the standard format),
such that each scale shows up on a single row, with each scale in a given column.</p>
<p>Note that unlike <a class="reference internal" href="#plenoptic.tools.display.imshow" title="plenoptic.tools.display.imshow"><code class="xref py py-func docutils literal notranslate"><span class="pre">imshow</span></code></a>, we can only show one batch
or channel at a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pyr_coeffs</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></span>) – Pyramid coefficients in the standard dictionary format as returned by the
steerable pyramid’s
<a class="reference internal" href="plenoptic.simulate.canonical_computations.steerable_pyramid_freq.html#plenoptic.simulate.canonical_computations.steerable_pyramid_freq.SteerablePyramidFreq.forward" title="plenoptic.simulate.canonical_computations.steerable_pyramid_freq.SteerablePyramidFreq.forward"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward</span></code></a>
method.</p></li>
<li><p><strong>vrange</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">'indep1'</span></code>)) – <p>If a 2-tuple, specifies the image values vmin/vmax that are mapped to
the minimum and maximum value of the colormap, respectively. If a
string:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto0&quot;</span></code>: All images have same vmin/vmax, which have the same
absolute value, and come from the minimum or maximum across all
images, whichever has the larger absolute value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto1&quot;</span></code>: All images have same vmin/vmax, which are the
minimum/maximum values across all images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto2&quot;</span></code>: All images have same vmin/vmax, which are the mean (across
all images) minus/ plus 2 std dev (across all images).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;auto3&quot;</span></code>: All images have same vmin/vmax, chosen so as to map the 10th/90th
percentile values to the 10th/90th percentile of the display intensity range.
For example: vmin is the 10th percentile image value minus 1/8 times the
difference between the 90th and 10th percentile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep0&quot;</span></code>: Each image has an independent vmin/vmax, which have the same
absolute value, which comes from either their minimum or maximum value,
whichever has the larger absolute value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep1&quot;</span></code>: Each image has an independent vmin/vmax, which are their
minimum/maximum values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep2&quot;</span></code>: Each image has an independent vmin/vmax, which is their
mean minus/plus 2 std dev.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;indep3&quot;</span></code>: Each image has an independent vmin/vmax, chosen so that the
10th/90th percentile values map to the 10th/90th percentile intensities.</p></li>
</ul>
</p></li>
<li><p><strong>zoom</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>)) – Ratio of display pixels to image pixels. if greater than 1, must be an
integer. If less than 1, must be <code class="docutils literal notranslate"><span class="pre">1/d</span></code> where <code class="docutils literal notranslate"><span class="pre">d</span></code> is a a divisor of the
size of the largest image.</p></li>
<li><p><strong>show_residuals</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>)) – Whether to display the residual bands.</p></li>
<li><p><strong>cmap</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.colors.Colormap.html#matplotlib.colors.Colormap" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Colormap</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – Colormap to use when showing these images.</p></li>
<li><p><strong>plot_complex</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Literal</span></code></a>[<code class="docutils literal notranslate"><span class="pre">'rectangular'</span></code>, <code class="docutils literal notranslate"><span class="pre">'polar'</span></code>, <code class="docutils literal notranslate"><span class="pre">'logpolar'</span></code>]</span> (default: <code class="docutils literal notranslate"><span class="pre">'rectangular'</span></code>)) – <p>Specifies handling of complex values.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;rectangular&quot;</span></code>: plot real and imaginary components as separate images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;polar&quot;</span></code>: plot amplitude and phase as separate images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;logpolar&quot;</span></code>: plot log (base 2) amplitude and phase as separate images.</p></li>
</ul>
</p></li>
<li><p><strong>batch_idx</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)) – Which element from the batch dimension to plot.</p></li>
<li><p><strong>channel_idx</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)) – Which element from the channel dimension to plot.</p></li>
<li><p><strong>**kwargs</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></span>) – Passed on to <a class="reference external" href="https://pyrtools.readthedocs.io/en/latest/api/pyrtools.tools.html#pyrtools.tools.display.pyrshow" title="(in pyrtools)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyrtools.tools.display.pyrshow</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://pyrtools.readthedocs.io/en/latest/api/pyrtools.tools.html#pyrtools.tools.display.PyrFigure" title="(in pyrtools)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyrFigure</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>fig</em> – The figure displaying the coefficients.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.14)"><strong>TypeError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">batch_idx</span></code> or <code class="docutils literal notranslate"><span class="pre">channel_idx</span></code> takes an illegal value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.rescale_ylim">
<span class="sig-name descname"><span class="pre">rescale_ylim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#rescale_ylim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.rescale_ylim" title="Link to this definition"></a></dt>
<dd><p>Rescale y-limits nicely.</p>
<p>We take the axes and set their limits to be <code class="docutils literal notranslate"><span class="pre">(-y_max,</span> <span class="pre">y_max)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">y_max=np.abs(data).max()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a>]</span>) – A list of matplotlib axes to rescale.</p></li>
<li><p><strong>data</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> | <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a></span>) – The data to use when rescaling (or a dictionary of such values).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.update_plot">
<span class="sig-name descname"><span class="pre">update_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#update_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.update_plot" title="Link to this definition"></a></dt>
<dd><p>Update the information in some axes (for an animation).</p>
<p>This is used for creating an animation over time. In order to create the animation,
we need to know how to update the matplotlib Artists, and this provides a simple way
of doing that. It assumes the plot has been created by something like
<a class="reference internal" href="#plenoptic.tools.display.plot_representation" title="plenoptic.tools.display.plot_representation"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_representation</span></code></a>, which initializes all the
artists.</p>
<p>We can update stem plots, lines (as returned by <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot" title="(in Matplotlib v3.10.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.plot</span></code></a>),
scatter plots, or images (RGB, RGBA, or grayscale).</p>
<p>There are two modes for this:</p>
<ul class="simple">
<li><p>Single axis: <code class="docutils literal notranslate"><span class="pre">axes</span></code> is a single axis, which may contain multiple artists (all of
the same type) to update. <code class="docutils literal notranslate"><span class="pre">data</span></code> should be a <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> with multiple
channels (one per artist in the same order) or be a dictionary whose keys give the
label(s) of the corresponding artist(s) and whose values are
<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>.</p></li>
<li><p>Multiple axes: <code class="docutils literal notranslate"><span class="pre">axes</span></code> is a list of axes, each of which contains a single artist
to update (artists can be different types). <code class="docutils literal notranslate"><span class="pre">data</span></code> should be a
<a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a> with multiple channels (one per axis in the same order) or a
dictionary with the same number of keys as <code class="docutils literal notranslate"><span class="pre">axes</span></code>, which we can iterate through
in order, and whose values are <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">torch.Tensor</span></code></a>.</p></li>
</ul>
<p>In all cases, <code class="docutils literal notranslate"><span class="pre">data</span></code> Tensors should be 3d (if the plot we’re updating is a
line or stem plot) or 4d (if it’s an image or scatter plot).</p>
<p>RGB(A) images are special, since we store that info along the channel
dimension, so they only work with single-axis mode (which will only have a
single artist, because that’s how imshow works).</p>
<p>If you have multiple axes, each with multiple artists you want to update, that’s too
complicated for us, and so you should write a <code class="docutils literal notranslate"><span class="pre">model.update_plot()</span></code> function which
handles that (see
<a class="reference internal" href="plenoptic.simulate.models.portilla_simoncelli.html#plenoptic.simulate.models.portilla_simoncelli.PortillaSimoncelli.update_plot" title="plenoptic.simulate.models.portilla_simoncelli.PortillaSimoncelli.update_plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plenoptic.simulate.models.portilla_simoncelli.PortillaSimoncelli.update_plot</span></code></a>
for an example).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">model</span></code> is set, we try to call <code class="docutils literal notranslate"><span class="pre">model.update_plot()</span></code> (which must also return
artists). If <code class="docutils literal notranslate"><span class="pre">model</span></code> doesn’t have an <code class="docutils literal notranslate"><span class="pre">update_plot</span></code> method, then we try to figure
out how to update the axes ourselves, based on the shape of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code></a>]</span>) – The axis or list of axes to update. We assume that these are the axes created by
<a class="reference internal" href="#plenoptic.tools.display.plot_representation" title="plenoptic.tools.display.plot_representation"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_representation</span></code></a> and so contain artists
in the correct order.</p></li>
<li><p><strong>data</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></span>) – The new data to plot.</p></li>
<li><p><strong>model</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.pytorch.org/docs/stable/generated/torch.nn.Module.html#torch.nn.Module" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code></a> | <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)) – A differentiable model that tells us how to plot <code class="docutils literal notranslate"><span class="pre">data</span></code>. See above for
behavior if <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>batch_idx</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span> (default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)) – Which index to take from the batch dimension.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>artists</em> – A list of the artists used to update the information on the
plots.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">data</span></code> (or its values, if it’s a <code class="docutils literal notranslate"><span class="pre">dict</span></code>) are not 3 or 4 dimensional.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="plenoptic.tools.display.update_stem">
<span class="sig-name descname"><span class="pre">update_stem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stem_container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ydata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plenoptic/tools/display.html#update_stem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plenoptic.tools.display.update_stem" title="Link to this definition"></a></dt>
<dd><p>Update the information in a stem plot (for an animation).</p>
<p>We update the information in a single stem plot to match that given
by <code class="docutils literal notranslate"><span class="pre">ydata</span></code>. We update the position of the markers and and the
lines connecting them to the baseline, but we don’t change the
baseline at all and assume that the xdata shouldn’t change at all.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stem_container</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/container_api.html#matplotlib.container.StemContainer" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">StemContainer</span></code></a></span>) – Single container for the artists created in a <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.stem.html#matplotlib.pyplot.stem" title="(in Matplotlib v3.10.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.stem</span></code></a>
plot. It can be treated like a namedtuple <code class="docutils literal notranslate"><span class="pre">(markerline,</span> <span class="pre">stemlines,</span> <span class="pre">baseline)</span></code>.
In order to get this from an axis <code class="docutils literal notranslate"><span class="pre">ax</span></code>, try <code class="docutils literal notranslate"><span class="pre">ax.containers[0]</span></code> (if you have
more than one container in that axis, it may not be the first one).</p></li>
<li><p><strong>ydata</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> | <a class="reference external" href="https://docs.pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a></span>) – The new y-data to show on the plot. Importantly, must be the same length as
the existing y-data.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://matplotlib.org/stable/api/container_api.html#matplotlib.container.StemContainer" title="(in Matplotlib v3.10.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">StemContainer</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>stem_container</em> – The StemContainer containing the updated artists.</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2025, Plenoptic authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>